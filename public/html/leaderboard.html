<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Leaderboard</title>
<link rel="stylesheet" href="../css/style.css">
<style>
body {
    font-family: 'Poppins', sans-serif;
    margin:0;
    padding:20px;
    min-height:100vh;
    background: linear-gradient(120deg,#74ebd5,#ACB6E5);
    background-size:400% 400%;
    animation: gradientShift 20s ease infinite;
    overflow-x:hidden;
    position:relative;
}
@keyframes gradientShift {
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}
h1 { text-align:center; color:#fff; font-size:3rem; margin-bottom:20px; text-shadow:0 5px 15px rgba(0,0,0,0.3);}
table { width:80%; margin:auto; border-collapse:collapse; background:rgba(255,255,255,0.95); border-radius:10px; overflow:hidden; box-shadow:0 8px 25px rgba(0,0,0,0.25);}
th, td { padding:15px; text-align:center; border-bottom:1px solid #ddd; }
th { background:linear-gradient(45deg,#ff6b6b,#ff4757); color:#fff; }
tr:hover { background:rgba(255,107,107,0.2); }
a.btn { display:inline-block; margin:20px auto; padding:12px 25px; background:#ff6b6b; color:#fff; border-radius:50px; text-decoration:none; font-weight:bold; transition: transform 0.3s, box-shadow 0.3s;}
a.btn:hover { transform:scale(1.1); box-shadow:0 6px 25px rgba(0,0,0,0.3);}
</style>
</head>
<body>
<h1>Leaderboard</h1>
<table>
    <thead>
        <tr>
            <th>Rank</th>
            <th>Username</th>
            <th>Points</th>
            <th>Badges</th>
        </tr>
    </thead>
    <tbody id="leaderboardBody"></tbody>
</table>
<a href="/" class="btn">Back to Marketplace</a>

<script>
fetch('/api/users')
.then(res=>res.json())
.then(users=>{
    const tbody = document.getElementById('leaderboardBody');
    tbody.innerHTML='';
    users.forEach((user, index)=>{
        const tr = document.createElement('tr');
        tr.innerHTML=`
            <td>${index+1}</td>
            <td>${user.username}</td>
            <td>${user.points}</td>
            <td>${user.badges.join(', ') || 'None'}</td>
        `;
        tbody.appendChild(tr);
    });
});
</script>
</body>
</html>
